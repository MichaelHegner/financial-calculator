buildscript {
	ext {
		springBootVersion = '2.1.2.RELEASE'
        gradleReleaseVersion = '2.8.0'
	}
	repositories {
		mavenLocal()
		mavenCentral()
        maven {
            url 'https://plugins.gradle.org/m2/'
        }
	}
	dependencies {
		classpath "org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}"
        classpath "net.researchgate:gradle-release:${gradleReleaseVersion}"
	}
}

allprojects {
	apply plugin: 'eclipse'
	apply plugin: 'maven'
	apply plugin: 'maven-publish'
    apply plugin: 'net.researchgate.release'
	
	group = 'net.hemisoft.financial.calculator'
}

subprojects {
	apply plugin: 'groovy'
	apply plugin: 'org.springframework.boot'
	apply plugin: 'io.spring.dependency-management'
	
	sourceCompatibility = JavaVersion.VERSION_1_8

	repositories {
		mavenLocal()
		mavenCentral()
	}
	
	dependencies {
		compile				'org.codehaus.groovy:groovy'
		testCompile			'org.springframework.boot:spring-boot-starter-test'
		testCompile			'org.assertj:assertj-core'
	}
}

project(':' + rootProject.name + '-library') {
	dependencies {
		compile			 'org.springframework.boot:spring-boot-starter'
	}
	
	jar {
		enabled = true
	}
	
	bootJar {
		enabled = false
	}
}

project(':' + rootProject.name + '-api') {
	dependencies {
		compile project	(':' + rootProject.name + '-library')
		compile 		'org.springframework.boot:spring-boot-starter-web'
	}
}

project(rootProject.name + '-web') {
	dependencies {
		compile			 'org.springframework.boot:spring-boot-starter-web',
						 'org.springframework.boot:spring-boot-starter-groovy-templates'
	}
}
